<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Home Page</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script language="javascript">
        if (window.location.hash) {
            let fragments = window.location.hash
                .substring(1)
                .split('&')
                .map(x => x.split('=')[1]);

            let data = {
                accessToken: fragments[0],
                scope: fragments[1],
                state: fragments[2],
                tokenType: fragments[3]
            };

            axios.post('/api/TwitchAuth', data)
                .then(function () {
                    window.close();
                })
                .catch(function (error) {
                    console.log(error);
                });
        }
    </script>
</head>
<body id="body">
</body>
</html>